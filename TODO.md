# Расписание электричек под Sailfish OS

## В первую очередь

- [x] Cкачать XML с базами зон
- [x] Выкачать все XML с базами станций по зонам
- [x] Сконвертировать их в sqlite
- [x] Хранить базы в приложении
- [x] Доставать данные из базы
- [x] **СДЕЛАТЬ ПРИЛОЖЕНИЕ НЕ ОДНОРАЗОВЫМ**

## Что надо сделать

- [x] При запуске определяем геолокацию и по ней решаем, в какой зоне ищем. **Если не получилось**, то последняя зона, из коробки Москва.
- [ ] При нажатии на кнопку геолокации находим ближайшую станцию. **Если не получилось**, рисуем вместо кнопки грустный смайл.
- [x] Если в datePicker выбрана прошедшая дата, то уведомляем об этом
- [x] Дёргаем из интерфейса автодополнение названия станции 
- [x] Получаем `esr` для «Откуда» и «Куда»
- [x] Выполняем сетевой  реквест маршрутов (ниток)
- [x] Получаем респонз в QML
- [x] Красиво отображаем на `ThreadsPage`
- [x] Переключение руками зоны: список всех + поле поиска с автодополнением
- [x] Клавиатура перекрывает подсказки (исправить!)

### Мелочи:

- [ ] Обработка нажатия на Enter внутри `SearchBox` — автозаполнить верхней подсказкой и перейти к другому полю, если другое тоже заполнено — открывать `ThreadsPage`
- [x] При клике мимо TextField подсказки от `SearchBox ` должны спрятаться
- [ ] Название, выданное `SearchBox`, можно отображать `short_title`, если возможно
- [x] Надо сделать `FirstPage` красивее, особенно заголовок и вертикальные отступы   


## Светлое будущее 
- [x] Клик на маршрут в `ThreadsPage` открывает список станций и прочую мякотку
- [x] При запуске сразу же дёргаем **sqlite**, чтобы база для скорости лежала в оперативной памяти 
- [ ] Если искались поезда на сегодня, то на **Cover** выводим ближайший поезд и кнопку обновить, иначе скриншот
- [ ] Избранные или последние маршруты
- [ ] Оффлайн расписание?
- [ ] Проверять актуальность базы (смотреть `ETag`?) Если старая, то скачать XML, превратить в **sqlite** и обновить
